<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>EJEKT - Search Results</title>
  <link rel="icon" type="image/x-icon" href="assets/jekicon.png">
  <style>
    html, body {
      margin: 0;
      height: 100%;
      background-color: #e4cbb7;
      font-family: Arial, sans-serif;
      color: white;
    }

    body {
      display: flex;
      flex-direction: column;
    }

    /* Top Color Bars */
    .top-container {
      width: 100%;
      display: flex;
      flex-direction: column;
      height: 8vh;
      box-shadow: 0 2px 5px rgba(0,0,0,0.3);
      position: relative;
      z-index: 10;
    }

    .bar { flex: 1; }
    .bar1 { background: #ffb347; }
    .bar2 { background: #f47742; }
    .bar3 { background: #db3550; }
    .bar4 { background: #73b9ca; }
    .bar5 { background: #0092b2; }

    .bar6 {
      background: #2f1b41;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5vh;
      padding: 0 10px;
      flex-wrap: wrap;
    }

    .bar6 a {
      color: white;
      text-decoration: none;
      margin: 0 5px;
    }

    .bar6 a:hover { text-decoration: underline; }

    .text-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 8vh;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 3vh;
      font-weight: bold;
      pointer-events: none;
      z-index: 20;
      color: white;
    }

    /* Main Content */
    .main-content {
      flex: 1;
      overflow-y: auto;
      padding: 2rem;
      box-sizing: border-box;
      color: #2f1b41;
      text-align: center;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
    }

    .page-title {
      font-weight: bold;
      font-size: 2rem;
      color: #2f1b41;
      margin-bottom: 2rem;
      text-align: center;
    }

    /* Search Results */
    .result { 
      background: transparent;
      padding: 0; 
      margin-bottom: 0.5rem; 
      border-radius: 0;
    }

    .result a { 
      color: #2f1b41; 
      font-weight: normal;
      text-decoration: underline;
    }

    .result a:hover { font-weight: bold; }

    .noresults { font-style: italic; }

    .return { 
      margin-top: 12px; 
      display: inline-block; 
      text-decoration: none; 
      color: #2f1b41; 
      font-weight: bold; 
    }

    /* Footer */
    footer {
      width: 100%;
      background: transparent;
      padding: 10px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-sizing: border-box;
    }

    .bottom-image {
      height: 8vh;
      width: auto;
      max-width: 30vw;
    }

  </style>
</head>
<body>

  <!-- Top Header -->
  <div class="top-container">
    <div class="bar bar1"></div>
    <div class="bar bar2"></div>
    <div class="bar bar3"></div>
    <div class="bar bar4"></div>
    <div class="bar bar5"></div>
    <div class="bar6">
      <a href="Products.html">Products</a> |
      <a href="Bio.html">Bio</a> |
      <a href="Contact.html">Contact</a>
    </div>
    <div class="text-overlay">EJEKT</div>
  </div>

  <!-- Main Content -->
  <main class="main-content">
    <h1 class="page-title">Search Results</h1>
    <div id="results"></div>
    <a href="index.html" class="return">‚Üê Return to Home</a>
  </main>

  <!-- Footer -->
  <footer>
    <a href="index.html">
      <img src="jek.png" alt="Company Logo" class="bottom-image" />
    </a>
  </footer>

  <script>
    // Retrieve results and query from sessionStorage
    const stored = sessionStorage.getItem('siteSearchResults');
    const query = sessionStorage.getItem('siteSearchQuery') || '';
    let results = [];

    try {
      results = stored ? JSON.parse(stored) : [];
    } catch {
      results = [];
    }

    const container = document.getElementById('results');

    if (!query) {
      container.innerHTML = '<p class="noresults">No search term provided.</p>';
    } else if (!results || results.length === 0) {
      container.innerHTML = `<p class="noresults">No pages contain "<strong>${query}</strong>".</p>`;
    } else {
      container.innerHTML = results.map(r => 
        `<div class="result"><a href="${r.url}">${r.title}</a></div>`
      ).join('');
    }
  </script>

</body>
</html>

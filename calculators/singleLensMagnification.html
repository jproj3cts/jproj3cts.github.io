<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Single Lens Magnification Calculator</title>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" async></script>
<style>
  html, body {
    margin: 0; height: 100%; background-color: #e4cbb7;
    font-family: Arial, sans-serif; color: white;
  }
  body { display:flex; flex-direction:column; }

  /* Top bars */
  .top-container { width:100%; display:flex; flex-direction:column; height:8vh; position:relative; }
  .bar { flex:1; }
  .bar1{background:#ffb347;} 
  .bar2{background:#f47742;} 
  .bar3{background:#db3550;} 
  .bar4{background:#73b9ca;} 
  .bar5{background:#0092b2;}
  .bar6{
    background:#2f1b41; display:flex; align-items:center; justify-content:center;
    font-size:1.5vh; padding:0 10px; flex-wrap:wrap;
  }
  .bar6 a{ color:white; text-decoration:none; margin:0 5px; }
  .bar6 a:hover{ text-decoration:underline; }
  .text-overlay{
    position:absolute; top:0; left:0; width:100%; height:8vh;
    display:flex; justify-content:center; align-items:center;
    font-size:3vh; font-weight:bold;
    pointer-events:none; z-index:10;
  }

  /* Main */
  .main-content {
    flex:1; overflow-y:auto; padding:2rem;
    display:flex; flex-direction:column; align-items:center;
    color:#2f1b41;
  }
  .page-title { font-size:2rem; font-weight:bold; margin-bottom:2rem; text-align:center; }

  .calc-grid { display:flex; flex-wrap:wrap; justify-content:center; gap:1rem; width:100%; max-width:850px; }

  .calc-card, .diagram-area {
    background:rgba(255,255,255,0.15); border-radius:12px; padding:20px;
    display:flex; flex-direction:column; gap:12px; color:#2f1b41; min-width:240px; max-width:280px;
  }

  .calc-card input, .calc-card select {
    padding:6px; font-size:0.95rem; border-radius:5px; border:2px solid #2f1b41;
    background:white; color:#2f1b41; width:120px;
  }
  .calc-card button {
    background:#2f1b41; color:white; border:none;
    padding:8px; border-radius:5px; cursor:pointer;
  }
  .calc-card button:hover{ background:#3c2756; }

  .eq-grid { display:flex; flex-direction:row; gap:40px; justify-content:center; align-items:stretch; }
  .eq-column { flex:1; display:flex; flex-direction:column; gap:10px; align-items:center; text-align:center; }

  .eq-box {
    width:100%; min-height:55px; background:rgba(255,255,255,0.25);
    border-radius:12px; display:flex; justify-content:center; align-items:center; font-size:1rem;
  }

  .param-box-wrapper{ width:100%; display:flex; justify-content:center; margin-top:10px; }
  .param-box{
    background:rgba(255,255,255,0.25); border-radius:12px; padding:10px;
    max-width:400px; width:90%; text-align:center; line-height:1.4;
  }

  footer { width:100%; padding:20px 0; display:flex; flex-direction:column; align-items:center; gap:8px; }
  footer .bottom-image { height:8vh; width:auto; max-width:30vw; }
  footer .copyright { color:#2f1b41; }

  @media (max-width:900px){ .calc-grid{flex-direction:column;align-items:center;} .eq-grid{flex-direction:column;align-items:center;gap:20px;} }
  @media (max-width:500px){ .calc-card input, .calc-card select{width:100px;} }
</style>
</head>
<body>

<div class="top-container">
  <div class="bar bar1"></div>
  <div class="bar bar2"></div>
  <div class="bar bar3"></div>
  <div class="bar bar4"></div>
  <div class="bar bar5"></div>
  <div class="bar6">
    <a href="../Products.html">Products</a> |
    <a href="calculators.html">Calculators</a> |
    <a href="../Bio.html">Bio</a> |
    <a href="../Contact.html">Contact</a>
  </div>
  <div class="text-overlay">EJEKT</div>
</div>

<main class="main-content">
  <h1 class="page-title">Single Lens Magnification Calculator</h1>

  <div class="calc-grid">

    <!-- Inputs -->
    <div class="calc-card">
      <label>Focal Length (f)</label>
      <input type="number" id="focalLength" step="any"/>
      <select id="focalLengthUnit">
        <option value="m">m</option>
        <option value="cm">cm</option>
        <option value="mm" selected>mm</option>
      </select>

      <label>Object Distance (u)</label>
      <input type="number" id="objectDistance" step="any"/>
      <select id="objectDistanceUnit">
        <option value="m">m</option>
        <option value="cm">cm</option>
        <option value="mm" selected>mm</option>
      </select>

      <label>Object Height (h₀, optional)</label>
      <input type="number" id="objectHeight" step="any"/>
      <select id="objectHeightUnit">
        <option value="m">m</option>
        <option value="cm">cm</option>
        <option value="mm" selected>mm</option>
      </select>

      <button onclick="computeLens()">Compute</button>
    </div>

    <!-- Outputs -->
    <div class="diagram-area">
      <div class="eq-grid">
        <div class="eq-column">
          <div class="eq-box">$$v = \frac{1}{\frac{1}{f} - \frac{1}{u}}$$</div>
          <div class="eq-box" id="imageDistanceResult">v = ?</div>
        </div>
        <div class="eq-column">
          <div class="eq-box">$$M = -\frac{v}{u}$$</div>
          <div class="eq-box" id="magnificationResult">M = ?</div>
        </div>
      </div>
      <div class="eq-box" id="imageHeightResult">hᵢ = ?</div>
      <div class="param-box-wrapper">
        <div class="param-box">
          <strong>Parameters:</strong><br>
          <strong>f</strong> = focal length<br>
          <strong>u</strong> = object distance<br>
          <strong>v</strong> = image distance<br>
          <strong>M</strong> = magnification<br>
          <strong>h₀</strong> = object height<br>
          <strong>hᵢ</strong> = image height
        </div>
      </div>
    </div>

  </div>
</main>

<footer>
  <a href="../index.html">
    <img src="../jek.png" alt="Company Logo" class="bottom-image" />
  </a>
  <span class="copyright">© 2025 EJEKT</span>
</footer>

<script>
function toMeters(value, unit) {
  if (unit === "m") return value;
  if (unit === "cm") return value/100;
  if (unit === "mm") return value/1000;
}

function computeLens() {
  const f = toMeters(parseFloat(document.getElementById("focalLength").value), document.getElementById("focalLengthUnit").value);
  const u = toMeters(parseFloat(document.getElementById("objectDistance").value), document.getElementById("objectDistanceUnit").value);
  const h0 = toMeters(parseFloat(document.getElementById("objectHeight").value) || 0, document.getElementById("objectHeightUnit").value);

  if (!f || !u) { alert("Enter focal length and object distance."); return; }

  const v = 1 / (1/f - 1/u);
  const M = -v / u;
  const hi = h0 ? h0 * M : null;

  document.getElementById("imageDistanceResult").textContent = `v = ${v.toFixed(3)} m`;
  document.getElementById("magnificationResult").textContent = `M = ${M.toFixed(3)}`;
  document.getElementById("imageHeightResult").textContent = hi !== null ? `hᵢ = ${hi.toFixed(3)} m` : "hᵢ = (optional)";
  MathJax.typesetPromise();
}
</script>

</body>
</html>


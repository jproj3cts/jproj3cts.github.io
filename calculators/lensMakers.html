<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Lens Maker's Equation Calculator</title>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" async></script>
<style>
  html, body {margin:0; height:100%; font-family:Arial,sans-serif; background:#e4cbb7; color:white;}
  body{display:flex; flex-direction:column;}
  /* Top Bars */
  .top-container{width:100%; display:flex; flex-direction:column; height:8vh; position:relative;}
  .bar{flex:1;}
  .bar1{background:#ffb347;} .bar2{background:#f47742;} .bar3{background:#db3550;}
  .bar4{background:#73b9ca;} .bar5{background:#0092b2;}
  .bar6{background:#2f1b41; display:flex; align-items:center; justify-content:center; flex-wrap:wrap; font-size:1.5vh; padding:0 10px;}
  .bar6 a{color:white; text-decoration:none; margin:0 5px;}
  .bar6 a:hover{text-decoration:underline;}
  .text-overlay{position:absolute;top:0; left:0; width:100%; height:8vh; display:flex; justify-content:center; align-items:center; font-size:3vh; font-weight:bold; pointer-events:none; z-index:10;}
  /* Main */
  .main-content{flex:1; overflow-y:auto; padding:2rem; display:flex; flex-direction:column; align-items:center; color:#2f1b41;}
  .page-title{font-size:2rem; font-weight:bold; margin-bottom:2rem; text-align:center;}
  .calc-grid{display:flex; flex-wrap:wrap; justify-content:center; gap:1rem; width:100%; max-width:900px;}
  .calc-card, .diagram-area{background:rgba(255,255,255,0.15); border-radius:12px; padding:20px; display:flex; flex-direction:column; gap:12px; color:#2f1b41; min-width:240px; max-width:280px;}
  .calc-card input, .calc-card select{padding:6px; font-size:0.95rem; border-radius:5px; border:2px solid #2f1b41; background:white; color:#2f1b41; width:120px;}
  .calc-card button{background:#2f1b41; color:white; border:none; padding:8px; border-radius:5px; cursor:pointer;}
  .calc-card button:hover{background:#3c2756;}
  .eq-grid{display:flex; flex-direction:column; gap:20px; justify-content:center; width:100%; align-items:center;}
  .eq-column{display:flex; flex-direction:column; gap:10px; width:100%; text-align:center; align-items:center;}
  .eq-box{width:100%; min-height:50px; background:rgba(255,255,255,0.25); border-radius:12px; display:flex; justify-content:center; align-items:center; font-size:0.65rem; line-height:1.1;}
  .param-box-wrapper{width:100%; display:flex; justify-content:center; margin-top:10px;}
  .param-box{background:rgba(255,255,255,0.25); border-radius:12px; padding:10px; width:90%; text-align:center; font-size:0.85rem; line-height:1.3;}
  footer{width:100%; padding:20px 0; display:flex; flex-direction:column; align-items:center; gap:8px;}
  footer .bottom-image{height:8vh; width:auto; max-width:30vw;}
  footer .copyright{color:#2f1b41;}
  @media(max-width:900px){ .calc-grid{flex-direction:column;align-items:center;} }
  @media(max-width:500px){ .calc-card input, .calc-card select{width:100px;} .param-box{max-width:95%;} }
</style>
</head>
<body>

<div class="top-container">
  <div class="bar bar1"></div><div class="bar bar2"></div><div class="bar bar3"></div>
  <div class="bar bar4"></div><div class="bar bar5"></div>
  <div class="bar6">
    <a href="Products.html">Products</a> |
    <a href="calculators.html">Calculators</a> |
    <a href="Bio.html">Bio</a> |
    <a href="Contact.html">Contact</a>
  </div>
  <div class="text-overlay">EJEKT</div>
</div>

<main class="main-content">
  <h1 class="page-title">Lens Maker's Equation Calculator</h1>

  <div class="calc-grid">
    <!-- Input Section -->
    <div class="calc-card">
      <label>Refractive Index (nₗ)</label>
      <input id="nLens" type="number" step="0.0001" value="1.51"/>
      
      <label>Medium Refractive Index (nₘ)</label>
      <input id="nMed" type="number" step="0.0001" value="1"/>

      <label>R1</label>
      <input id="r1" type="number" step="any" value="10"/>
      <select id="r1Unit"><option value="m">m</option><option value="cm">cm</option><option value="mm" selected>mm</option></select>

      <label>R2</label>
      <input id="r2" type="number" step="any" value="-1"/>
      <select id="r2Unit"><option value="m">m</option><option value="cm">cm</option><option value="mm" selected>mm</option></select>

      <label>d</label>
      <input id="d" type="number" step="any" value="0"/>
      <select id="dUnit"><option value="m">m</option><option value="cm">cm</option><option value="mm" selected>mm</option></select>

      <button onclick="computeLensMaker()">Compute</button>

      <div class="param-box-wrapper">
        <div class="param-box">
          <strong>Input Parameters:</strong><br>
          nₗ = Lens refractive index<br>
          nₘ = Medium refractive index<br>
          R₁ = First surface radius<br>
          R₂ = Second surface radius<br>
          d = Lens thickness
        </div>
      </div>
    </div>

    <!-- Output Section -->
    <div class="diagram-area">
      <img src="../jek.png" alt="JEK Logo" style="width:100%; height:auto; object-fit:contain; padding:0.3rem 0;" />
      <div class="eq-grid">
        <div class="eq-column">
          <div class="eq-box">
            $$\frac{1}{f} = \frac{n_\text{lens}-n_\text{med}}{n_\text{med}}\left(\frac{1}{R_1}-\frac{1}{R_2}\right) + 
            \frac{(n_\text{lens}-n_\text{med})d}{n_\text{lens} R_1 R_2}$$
          </div>
          <div class="eq-box" id="focalResult">f = ?</div>
        </div>
        <div class="eq-column">
          <div class="eq-box">$$\text{BFL|FFL} = f \left(1 \mp \frac{d(n_\text{lens}-n_\text{med})}{n_\text{lens} R_{2|1}}\right)$$</div>
          <div class="eq-box" id="bffResult">BFL | FFL = ?</div>
        </div>
        <div class="eq-column">
          <div class="eq-box">$$P = \frac{1000 n_\text{med}}{f}$$</div>
          <div class="eq-box" id="powerResult">P = ? D</div>
        </div>
      </div>
      <div class="param-box-wrapper">
        <div class="param-box">
          <strong>Output Parameters:</strong><br>
          f = Focal length<br>
          BFL = Back focal length<br>
          FFL = Front focal length<br>
          P = Lens power (D)
        </div>
      </div>
    </div>
  </div>
</main>

<footer>
  <a href="index.html"><img src="../jek.png" class="bottom-image" alt="JEKT Logo"></a>
  <span class="copyright">© 2025 EJEKT</span>
</footer>

<script>
function toMeters(value, unit){
  if(unit==="m") return value;
  if(unit==="cm") return value/100;
  if(unit==="mm") return value/1000;
}

function computeLensMaker(){
  const nLens = parseFloat(document.getElementById("nLens").value);
  const nMed = parseFloat(document.getElementById("nMed").value) || 1;
  const R1 = toMeters(parseFloat(document.getElementById("r1").value), document.getElementById("r1Unit").value);
  const R2 = toMeters(parseFloat(document.getElementById("r2").value), document.getElementById("r2Unit").value);
  const d = toMeters(parseFloat(document.getElementById("d").value), document.getElementById("dUnit").value);

  let invF = (nLens - nMed)/nMed * ((1/R1)-(1/R2) + ((nLens - nMed)*d)/(nLens*R1*R2));
  if(d === 0) invF = (nLens - nMed)/nMed * ((1/R1)-(1/R2));

  const f = 1/invF;
  const BFL = f*(1 - (d*(nLens-nMed))/(nLens*R2));
  const FFL = f*(1 + (d*(nLens-nMed))/(nLens*R1));
  const P = 1000*nMed/f;

  document.getElementById("focalResult").textContent = `f = ${f.toFixed(3)} m`;
  document.getElementById("bffResult").textContent = `BFL = ${BFL.toFixed(3)} m | FFL = ${FFL.toFixed(3)} m`;
  document.getElementById("powerResult").textContent = `P = ${P.toFixed(1)} D`;

  MathJax.typesetPromise();
}
</script>

</body>
</html>
